---
title: OpenAI Assistants
description: "Track and analyze your OpenAI Assistants API calls with AgentOps"
---

AgentOps provides seamless integration with [OpenAI's Assistants API](https://platform.openai.com/docs/assistants/overview), allowing you to track and analyze all your Assistants interactions automatically.

## Installation



<CodeGroup>
  ```bash pip
  pip install agentops openai
  ```
  ```bash poetry
  poetry add agentops openai
  ```
  ```bash uv
  uv add agentops openai
  ```
</CodeGroup>

## Setting Up API Keys

Before using OpenAI Assistants with AgentOps, you need to set up your API keys. You can obtain:
- **OPENAI_API_KEY**: From the [OpenAI Platform](https://platform.openai.com/api-keys)
- **AGENTOPS_API_KEY**: From your [AgentOps Dashboard](https://app.agentops.ai/)

Then to set them up, you can either export them as environment variables or set them in a `.env` file.

<CodeGroup>
    ```bash Export to CLI
    export OPENAI_API_KEY="your_openai_api_key_here"
    export AGENTOPS_API_KEY="your_agentops_api_key_here"
    ```
    ```txt Set in .env file
    OPENAI_API_KEY="your_openai_api_key_here"
    AGENTOPS_API_KEY="your_agentops_api_key_here"
    ```
</CodeGroup>

Then load the environment variables in your Python code:

```python
from dotenv import load_dotenv
import os

# Load environment variables from .env file
load_dotenv()

# Set up environment variables with fallback values
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")
os.environ["AGENTOPS_API_KEY"] = os.getenv("AGENTOPS_API_KEY")
```

## Usage

Initialize AgentOps at the beginning of your application to automatically track all Assistants API calls:

<CodeGroup>
```python Python
import agentops
from openai import OpenAI

# Initialize AgentOps
agentops.init(<INSERT YOUR API KEY HERE>)

# Create OpenAI client
client = OpenAI()

# Create an Assistant
assistant = client.beta.assistants.create(
    name="Math Tutor",
    instructions="You are a personal math tutor. Write and run code to answer math questions.",
    tools=[{"type": "code_interpreter"}],
    model="gpt-4-turbo"
)

# Create a Thread
thread = client.beta.threads.create()

# Add a Message to the Thread
message = client.beta.threads.messages.create(
    thread_id=thread.id,
    role="user",
    content="I need to solve the equation 3x + 11 = 14. Can you help me?"
)

# Run the Assistant
run = client.beta.threads.runs.create(
    thread_id=thread.id,
    assistant_id=assistant.id
)

# Wait for the Run to complete
from time import sleep
while run.status in ["queued", "in_progress"]:
    sleep(1)
    run = client.beta.threads.runs.retrieve(
        thread_id=thread.id,
        run_id=run.id
    )

# Get the Assistant's messages
messages = client.beta.threads.messages.list(
    thread_id=thread.id
)

# Print the last message from the assistant
for message in messages.data:
    if message.role == "assistant":
        print(message.content[0].text.value)
        break

# All Assistants API calls are automatically tracked by AgentOps
```
</CodeGroup>

## File Upload Example

AgentOps tracks file uploads and interactions with the Assistants API:

<CodeGroup>
```python File Upload Example
import agentops
from openai import OpenAI
import os

# Initialize AgentOps
agentops.init(<INSERT YOUR API KEY HERE>)

# Create OpenAI client
client = OpenAI()

# Upload a file
file_path = "data.csv"  # Replace with the path to your file
with open(file_path, "rb") as file:
    file_object = client.files.create(
        file=file,
        purpose="assistants"
    )

# Create an Assistant with the file
assistant = client.beta.assistants.create(
    name="Data Analyst",
    instructions="You are a data analysis assistant. Analyze the provided CSV files and answer questions about the data.",
    tools=[{"type": "code_interpreter"}],
    model="gpt-4-turbo"
)

# Create a Thread with the file
thread = client.beta.threads.create()

# Add a File to the Thread
message = client.beta.threads.messages.create(
    thread_id=thread.id,
    role="user",
    content="Please analyze this CSV file and give me a summary of the data.",
    file_ids=[file_object.id]
)

# Run the Assistant
run = client.beta.threads.runs.create(
    thread_id=thread.id,
    assistant_id=assistant.id
)

# Wait for the Run to complete
from time import sleep
while run.status in ["queued", "in_progress"]:
    sleep(2)
    run = client.beta.threads.runs.retrieve(
        thread_id=thread.id,
        run_id=run.id
    )

# Get the Assistant's messages
messages = client.beta.threads.messages.list(
    thread_id=thread.id
)

# Print the last message from the assistant
for message in messages.data:
    if message.role == "assistant":
        print(message.content[0].text.value)
        break
```
</CodeGroup>


## Examples
<CardGroup cols={2}>
  <Card title="OpenAI Assistants Notebook" icon="notebook" href="/v2/examples/openai_assistants" />
</CardGroup>
<script type="module" src="/scripts/github_stars.js"></script>
<script type="module" src="/scripts/scroll-img-fadein-animation.js"></script>
<script type="module" src="/scripts/button_heartbeat_animation.js"></script>
<script type="css" src="/styles/styles.css"></script>
