---
title: "REST API"
description: "Direct integration with AgentOps API"
---

The AgentOps REST API allows you to integrate agent monitoring directly into your application without using our Python SDK. This is useful for:
- Non-Python applications
- Custom integrations
- Direct API access

## Authentication API (v3)

The v3 authentication API is the primary working endpoint for REST API access. It allows you to exchange your API key for a JWT token that can be used for authenticated requests.

### Get JWT Token

Exchange your API key for a JWT token to authenticate API requests.

<CodeGroup>

```bash curl
curl -X POST "https://api.agentops.ai/v3/auth/token" \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "your_api_key",
    "session_id": "your_session_id"
  }'
```

```json Success Response
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "project_id": "890e4ebb-88f1-46cd-844c-c5a995b3eab7"
}
```

</CodeGroup>

### Authentication Parameters

- **api_key** (required): Your AgentOps API key
- **session_id** (required): A unique identifier for your session

### Response Fields

- **token**: JWT token for authenticated requests (expires after a set time)
- **project_id**: Your project identifier for use with other API endpoints

## Working Integration Example

Here's a complete example showing how to authenticate and use the JWT token:

<CodeGroup>

```python Complete Example
import requests
import json
from datetime import datetime, timezone

API_KEY = "your_api_key"
BASE_URL = "https://api.agentops.ai"

def authenticate_with_agentops(api_key, session_id):
    """Get JWT token using v3 authentication"""
    response = requests.post(
        f"{BASE_URL}/v3/auth/token",
        headers={"Content-Type": "application/json"},
        json={
            "api_key": api_key,
            "session_id": session_id
        }
    )
    
    if response.status_code == 200:
        data = response.json()
        return data["token"], data["project_id"]
    else:
        raise Exception(f"Authentication failed: {response.text}")

# Usage example
try:
    jwt_token, project_id = authenticate_with_agentops(
        API_KEY, 
        "example-session-123"
    )
    
    print(f"‚úÖ Authentication successful!")
    print(f"Project ID: {project_id}")
    print(f"JWT Token: {jwt_token[:50]}...")
    
    # Use the JWT token for authenticated requests to other services
    # Note: Other API endpoints are currently under development
    
except Exception as e:
    print(f"‚ùå Authentication failed: {e}")
```

```javascript JavaScript Example
const API_KEY = "your_api_key";
const BASE_URL = "https://api.agentops.ai";

async function authenticateWithAgentOps(apiKey, sessionId) {
    const response = await fetch(`${BASE_URL}/v3/auth/token`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            api_key: apiKey,
            session_id: sessionId
        })
    });
    
    if (response.ok) {
        const data = await response.json();
        return {
            token: data.token,
            projectId: data.project_id
        };
    } else {
        throw new Error(`Authentication failed: ${await response.text()}`);
    }
}

// Usage example
authenticateWithAgentOps(API_KEY, "example-session-123")
    .then(({ token, projectId }) => {
        console.log("‚úÖ Authentication successful!");
        console.log(`Project ID: ${projectId}`);
        console.log(`JWT Token: ${token.substring(0, 50)}...`);
        
        // Use the JWT token for authenticated requests
    })
    .catch(error => {
        console.error("‚ùå Authentication failed:", error);
    });
```

</CodeGroup>

## JWT Token Usage

The JWT token returned by the authentication endpoint contains:

- **Expiration time**: Tokens have a limited lifespan
- **Project information**: Associated with your AgentOps project
- **API key reference**: Linked to your original API key

You can decode the JWT token (without verification) to inspect its contents:

<CodeGroup>

```python Decode JWT
import jwt
import json

def decode_jwt_token(token):
    """Decode JWT token without verification (for inspection only)"""
    try:
        payload = jwt.decode(token, options={'verify_signature': False})
        return payload
    except Exception as e:
        print(f"Error decoding JWT: {e}")
        return None

# Example usage
token_payload = decode_jwt_token(jwt_token)
if token_payload:
    print("JWT Payload:")
    print(json.dumps(token_payload, indent=2))
```

</CodeGroup>

## Error Handling

The authentication endpoint may return the following errors:

- **400 Bad Request**: Invalid request format or missing required fields
- **401 Unauthorized**: Invalid API key
- **429 Too Many Requests**: Rate limit exceeded
- **500 Internal Server Error**: Server-side error

Always implement proper error handling in your integration:

<CodeGroup>

```python Error Handling
def safe_authenticate(api_key, session_id, max_retries=3):
    """Authenticate with retry logic and error handling"""
    for attempt in range(max_retries):
        try:
            response = requests.post(
                f"{BASE_URL}/v3/auth/token",
                headers={"Content-Type": "application/json"},
                json={
                    "api_key": api_key,
                    "session_id": session_id
                },
                timeout=10
            )
            
            if response.status_code == 200:
                data = response.json()
                return data["token"], data["project_id"]
            elif response.status_code == 429:
                # Rate limited, wait and retry
                time.sleep(2 ** attempt)
                continue
            else:
                print(f"Authentication failed: {response.status_code} - {response.text}")
                return None, None
                
        except requests.exceptions.RequestException as e:
            print(f"Request failed (attempt {attempt + 1}): {e}")
            if attempt == max_retries - 1:
                return None, None
            time.sleep(1)
    
    return None, None
```

</CodeGroup>

## API Development Status

The AgentOps REST API is actively under development. Currently available:

- ‚úÖ **v3 Authentication**: Fully functional JWT token generation
- üöß **Session Management**: Under development
- üöß **Event Tracking**: Under development  
- üöß **Trace Analytics**: Under development

For the most up-to-date information on available endpoints, check the [AgentOps documentation](https://docs.agentops.ai) or contact support.

## OpenAPI Specification

For detailed API schemas and additional endpoints as they become available, refer to the OpenAPI specification:

- [API Specification](https://api.agentops.ai/openapi.json)

The specification includes complete request/response schemas, authentication requirements, and will be updated as new endpoints are released.
