<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 471.026123046875 1762.99658203125" style="max-width: 471.026123046875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1750432670773-rp9k3bwft"><style>#mermaid-svg-1750432670773-rp9k3bwft{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft .error-icon{fill:#bf616a;}#mermaid-svg-1750432670773-rp9k3bwft .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1750432670773-rp9k3bwft .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1750432670773-rp9k3bwft .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1750432670773-rp9k3bwft .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1750432670773-rp9k3bwft .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1750432670773-rp9k3bwft .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1750432670773-rp9k3bwft .marker{fill:#7b88a1;stroke:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft .marker.cross{stroke:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1750432670773-rp9k3bwft .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft .cluster-label text{fill:#ffffff;}#mermaid-svg-1750432670773-rp9k3bwft .cluster-label span,#mermaid-svg-1750432670773-rp9k3bwft p{color:#ffffff;}#mermaid-svg-1750432670773-rp9k3bwft .label text,#mermaid-svg-1750432670773-rp9k3bwft span,#mermaid-svg-1750432670773-rp9k3bwft p{fill:#7b88a1;color:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft .node rect,#mermaid-svg-1750432670773-rp9k3bwft .node circle,#mermaid-svg-1750432670773-rp9k3bwft .node ellipse,#mermaid-svg-1750432670773-rp9k3bwft .node polygon,#mermaid-svg-1750432670773-rp9k3bwft .node path{fill:#1e2127;stroke:#272c36;stroke-width:1px;}#mermaid-svg-1750432670773-rp9k3bwft .flowchart-label text{text-anchor:middle;}#mermaid-svg-1750432670773-rp9k3bwft .node .label{text-align:center;}#mermaid-svg-1750432670773-rp9k3bwft .node.clickable{cursor:pointer;}#mermaid-svg-1750432670773-rp9k3bwft .arrowheadPath{fill:#e1ded8;}#mermaid-svg-1750432670773-rp9k3bwft .edgePath .path{stroke:#7b88a1;stroke-width:2.0px;}#mermaid-svg-1750432670773-rp9k3bwft .flowchart-link{stroke:#7b88a1;fill:none;}#mermaid-svg-1750432670773-rp9k3bwft .edgeLabel{background-color:#1e212799;text-align:center;}#mermaid-svg-1750432670773-rp9k3bwft .edgeLabel rect{opacity:0.5;background-color:#1e212799;fill:#1e212799;}#mermaid-svg-1750432670773-rp9k3bwft .labelBkg{background-color:rgba(30, 33, 39, 0.5);}#mermaid-svg-1750432670773-rp9k3bwft .cluster rect{fill:rgba(67, 76, 94, 0.47);stroke:rgba(0, 0, 0, 0);stroke-width:1px;}#mermaid-svg-1750432670773-rp9k3bwft .cluster text{fill:#ffffff;}#mermaid-svg-1750432670773-rp9k3bwft .cluster span,#mermaid-svg-1750432670773-rp9k3bwft p{color:#ffffff;}#mermaid-svg-1750432670773-rp9k3bwft div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#88c0d0;border:1px solid rgba(0, 0, 0, 0);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1750432670773-rp9k3bwft .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#7b88a1;}#mermaid-svg-1750432670773-rp9k3bwft :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1750432670773-rp9k3bwft_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M217.02,33.333L217.02,37.5C217.02,41.667,217.02,50,217.02,57.45C217.02,64.9,217.02,71.467,217.02,74.75L217.02,78.033"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M217.02,153.333L217.02,157.5C217.02,161.667,217.02,170,217.02,177.45C217.02,184.9,217.02,191.467,217.02,194.75L217.02,198.033"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M217.02,255L217.02,259.167C217.02,263.333,217.02,271.667,217.02,279.117C217.02,286.567,217.02,293.133,217.02,296.417L217.02,299.7"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M217.02,338.333L217.02,342.5C217.02,346.667,217.02,355,217.02,362.45C217.02,369.9,217.02,376.467,217.02,379.75L217.02,383.033"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M217.02,421.667L217.02,425.833C217.02,430,217.02,438.333,217.086,445.867C217.152,453.4,217.284,460.134,217.351,463.501L217.417,466.868"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M253.843,592.797L263.882,604.462C273.922,616.127,294.001,639.457,304.04,661.122C314.08,682.786,314.08,702.786,314.08,721.259C314.08,739.731,314.08,756.675,314.08,769.959C314.08,783.242,314.08,792.864,314.08,797.675L314.08,802.486"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-H" id="L-F-H-0" d="M181.198,592.797L170.992,604.462C160.786,616.127,140.373,639.457,130.167,655.933C119.961,672.409,119.961,682.031,119.961,686.842L119.961,691.653"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-J" id="L-H-J-0" d="M119.961,748.62L119.961,752.786C119.961,756.953,119.961,765.286,119.961,772.736C119.961,780.186,119.961,786.753,119.961,790.036L119.961,793.32"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-I" id="L-J-I-0" d="M119.961,850.286L119.961,854.453C119.961,858.62,119.961,866.953,128.855,874.938C137.749,882.923,155.538,890.559,164.432,894.378L173.326,898.196"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-I" id="L-G-I-0" d="M314.08,841.12L314.08,846.814C314.08,852.509,314.08,863.898,305.186,873.41C296.291,882.923,278.503,890.559,269.609,894.378L260.714,898.196"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-K" id="L-I-K-0" d="M217.02,933.62L217.02,937.786C217.02,941.953,217.02,950.286,217.02,957.736C217.02,965.186,217.02,971.753,217.02,975.036L217.02,978.32"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M217.02,1016.953L217.02,1021.12C217.02,1025.286,217.02,1033.62,217.02,1041.07C217.02,1048.52,217.02,1055.086,217.02,1058.37L217.02,1061.653"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M" id="L-L-M-0" d="M217.02,1100.286L217.02,1104.453C217.02,1108.62,217.02,1116.953,217.02,1124.403C217.02,1131.853,217.02,1138.42,217.02,1141.703L217.02,1144.986"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-N" id="L-M-N-0" d="M217.02,1183.62L217.02,1187.786C217.02,1191.953,217.02,1200.286,217.02,1207.736C217.02,1215.186,217.02,1221.753,217.02,1225.036L217.02,1228.32"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O" id="L-N-O-0" d="M217.02,1285.286L217.02,1289.453C217.02,1293.62,217.02,1301.953,217.086,1309.487C217.152,1317.02,217.284,1323.754,217.351,1327.121L217.417,1330.488"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-P" id="L-O-P-0" d="M179.911,1438.776L166.064,1450.655C152.218,1462.535,124.525,1486.293,110.678,1502.984C96.832,1519.674,96.832,1529.297,96.832,1534.108L96.832,1538.919"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-Q" id="L-O-Q-0" d="M255.13,1438.776L268.81,1450.655C282.49,1462.535,309.85,1486.293,323.529,1502.984C337.209,1519.674,337.209,1529.297,337.209,1534.108L337.209,1538.919"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-Q LE-R" id="L-Q-R-0" d="M337.209,1577.552L337.209,1581.719C337.209,1585.885,337.209,1594.219,337.209,1601.669C337.209,1609.119,337.209,1615.685,337.209,1618.969L337.209,1622.252"/><path marker-end="url(#mermaid-svg-1750432670773-rp9k3bwft_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-R LE-S" id="L-R-S-0" d="M337.209,1660.885L337.209,1665.052C337.209,1669.219,337.209,1677.552,337.209,1685.002C337.209,1692.452,337.209,1699.019,337.209,1702.302L337.209,1705.585"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(314.07990074157715, 722.7864685058594)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.166666984558105)" class="label"><foreignObject height="18.33333396911621" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(119.96094703674316, 662.7864675521851)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.166666984558105)" class="label"><foreignObject height="18.33333396911621" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(96.83161163330078, 1510.0521173477173)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.166666984558105)" class="label"><foreignObject height="18.33333396911621" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(337.20923614501953, 1510.0521173477173)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.166666984558105)" class="label"><foreignObject height="18.33333396911621" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(217.02042388916016, 16.666667938232422)" id="flowchart-A-86" class="node default default flowchart-label"><rect height="33.33333396911621" width="201.7621612548828" y="-16.666666984558105" x="-100.8810806274414" ry="0" rx="0" style="fill:#e1f5fe;" class="basic label-container"/><g transform="translate(-93.3810806274414, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="186.7621612548828"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Admin/Owner invites user</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 118.33333587646484)" id="flowchart-B-87" class="node default default flowchart-label"><rect height="70.00000381469727" width="241.18923950195312" y="-35.00000190734863" x="-120.59461975097656" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-113.09461975097656, -27.500001907348633)" style="" class="label"><rect/><foreignObject height="55.000003814697266" width="226.18923950195312"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create org_invites record<br />inviter_id: admin's ID<br />invitee_email: new user's email</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 229.16666984558105)" id="flowchart-C-89" class="node default default flowchart-label"><rect height="51.66666793823242" width="198.22048950195312" y="-25.83333396911621" x="-99.11024475097656" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-91.61024475097656, -18.33333396911621)" style="" class="label"><rect/><foreignObject height="36.66666793823242" width="183.22048950195312"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Send Supabase OTP email<br />should_create_user: true</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 321.6666717529297)" id="flowchart-D-91" class="node default default flowchart-label"><rect height="33.33333396911621" width="233.2725830078125" y="-16.666666984558105" x="-116.63629150390625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-109.13629150390625, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="218.2725830078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User receives magic link email</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 405.00000762939453)" id="flowchart-E-93" class="node default default flowchart-label"><rect height="33.33333396911621" width="166.71875" y="-16.666666984558105" x="-83.359375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-75.859375, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="151.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User clicks email link</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 550.143238067627)" id="flowchart-F-95" class="node default default flowchart-label"><polygon style="fill:#fff3e0;" transform="translate(-78.47656440734863,78.47656440734863)" class="label-container" points="78.47656440734863,0 156.95312881469727,-78.47656440734863 78.47656440734863,-156.95312881469727 0,-78.47656440734863"/><g transform="translate(-45.14323043823242, -18.33333396911621)" style="" class="label"><rect/><foreignObject height="36.66666793823242" width="90.28646087646484"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User exists<br />in Supabase?</span></div></foreignObject></g></g><g transform="translate(314.07990074157715, 824.4531364440918)" id="flowchart-G-97" class="node default default flowchart-label"><rect height="33.33333396911621" width="97.14411163330078" y="-16.666666984558105" x="-48.57205581665039" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-41.07205581665039, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="82.14411163330078"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Sign user in</span></div></foreignObject></g></g><g transform="translate(119.96094703674316, 722.7864685058594)" id="flowchart-H-99" class="node default default flowchart-label"><rect height="51.66666793823242" width="193.66322326660156" y="-25.83333396911621" x="-96.83161163330078" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-89.33161163330078, -18.33333396911621)" style="" class="label"><rect/><foreignObject height="36.66666793823242" width="178.66322326660156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create new user account<br />+ sign in</span></div></foreignObject></g></g><g transform="translate(119.96094703674316, 824.4531364440918)" id="flowchart-J-101" class="node default default flowchart-label"><rect height="51.66666793823242" width="191.09378051757812" y="-25.83333396911621" x="-95.54689025878906" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-88.04689025878906, -18.33333396911621)" style="" class="label"><rect/><foreignObject height="36.66666793823242" width="176.09378051757812"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Database trigger creates<br />default personal org</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 916.9531383514404)" id="flowchart-I-103" class="node default default flowchart-label"><rect height="33.33333396911621" width="367.13543701171875" y="-16.666666984558105" x="-183.56771850585938" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-176.06771850585938, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="352.13543701171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Redirect to /settings/organizations?invite=org_id</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 1000.2864742279053)" id="flowchart-K-107" class="node default default flowchart-label"><rect height="33.33333396911621" width="223.4635467529297" y="-16.666666984558105" x="-111.73177337646484" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-104.23177337646484, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="208.4635467529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User sees pending invitations</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 1083.6198101043701)" id="flowchart-L-109" class="node default default flowchart-label"><rect height="33.33333396911621" width="202.97743225097656" y="-16.666666984558105" x="-101.48871612548828" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-93.98871612548828, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="187.97743225097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User clicks 'Accept' button</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 1166.953145980835)" id="flowchart-M-111" class="node default default flowchart-label"><rect height="33.33333396911621" width="211.9791717529297" y="-16.666666984558105" x="-105.98958587646484" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-98.48958587646484, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="196.9791717529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">accept_org_invite endpoint</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 1259.4531478881836)" id="flowchart-N-113" class="node default default flowchart-label"><rect height="51.66666793823242" width="196.95315551757812" y="-25.83333396911621" x="-98.47657775878906" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-90.97657775878906, -18.33333396911621)" style="" class="label"><rect/><foreignObject height="36.66666793823242" width="181.95315551757812"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Find invite record<br />by invitee_email + org_id</span></div></foreignObject></g></g><g transform="translate(217.02042388916016, 1405.5859661102295)" id="flowchart-O-115" class="node default default flowchart-label"><polygon style="fill:#fff3e0;" transform="translate(-70.29948711395264,70.29948711395264)" class="label-container" points="70.29948711395264,0 140.59897422790527,-70.29948711395264 70.29948711395264,-140.59897422790527 0,-70.29948711395264"/><g transform="translate(-46.13282012939453, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="92.26564025878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Invite found?</span></div></foreignObject></g></g><g transform="translate(96.83161163330078, 1560.8854522705078)" id="flowchart-P-117" class="node default default flowchart-label"><rect height="33.33333396911621" width="193.66322326660156" y="-16.666666984558105" x="-96.83161163330078" ry="0" rx="0" style="fill:#ffebee;" class="basic label-container"/><g transform="translate(-89.33161163330078, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="178.66322326660156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">404: Invitation not found</span></div></foreignObject></g></g><g transform="translate(337.20923614501953, 1560.8854522705078)" id="flowchart-Q-119" class="node default default flowchart-label"><rect height="33.33333396911621" width="187.09202575683594" y="-16.666666984558105" x="-93.54601287841797" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-86.04601287841797, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="172.09202575683594"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create user_orgs record</span></div></foreignObject></g></g><g transform="translate(337.20923614501953, 1644.2187881469727)" id="flowchart-R-121" class="node default default flowchart-label"><rect height="33.33333396911621" width="196.7621612548828" y="-16.666666984558105" x="-98.3810806274414" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-90.8810806274414, -9.166666984558105)" style="" class="label"><rect/><foreignObject height="18.33333396911621" width="181.7621612548828"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Delete org_invites record</span></div></foreignObject></g></g><g transform="translate(337.20923614501953, 1728.941011428833)" id="flowchart-S-123" class="node default default flowchart-label"><rect height="36.11111259460449" width="235.6337127685547" y="-18.055556297302246" x="-117.81685638427734" ry="0" rx="0" style="fill:#e8f5e8;" class="basic label-container"/><g transform="translate(-110.31685638427734, -10.555556297302246)" style="" class="label"><rect/><foreignObject height="21.111112594604492" width="220.6337127685547"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">✅ User added to organization</span></div></foreignObject></g></g></g></g></g></svg>